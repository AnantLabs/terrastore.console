<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Terrastore Console</title>
    <link href="css/south-street/jquery-ui-1.8.2.custom.css" rel="stylesheet" type="text/css"/>
    <link href="css/style.css" rel="stylesheet" type="text/css"/>
    <!--[if IE 5]>
    <style type="text/css">
        /* place css box model fixes for IE 5* in this conditional comment */
        #sidebar1 {
            width: 220px;
        }
    </style>
    <![endif]--><!--[if IE]>
    <style type="text/css">
        /* place css fixes for all versions of IE in this conditional comment */
        #mainContent {
            zoom: 1;
        }

        /* the above proprietary zoom property gives IE the hasLayout it needs to avoid several bugs */
    </style>
    <![endif]-->
<!--    <script type="text/javascript" src="js/jquery-1.4.2.js"></script>-->
    <script src="js/jquery-1.4.2.min.js" type="text/javascript"></script>
    <script src="js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script>
    <script src="js/jquery-jtemplates.min.js" type="text/javascript"></script>
    <script src="js/sammy-0.6.0.min.js" type="text/javascript"></script>
    <script src="js/sammy.json-0.6.0.min.js" type="text/javascript"></script>
    <script src="js/sammy.storage-0.6.0.min.js" type="text/javascript"></script>
    <script src="js/sammy.nested_params-0.6.0.min.js" type="text/javascript"></script>
    <script src="js/sammy.form-0.6.0.min.js" type="text/javascript"></script>
    <script src="js/jpaginate.js" type="text/javascript"></script>
    <script src="js/jeditable.min.js" type="text/javascript"></script>
    <script src="js/jquery.validate.min.js" type="text/javascript"></script>
    <script src="js/terrastoreClient.js" type="text/javascript"></script>
    <script src="js/controller.js" type="text/javascript"></script>
</head>
<!--This template was created by www.flash-templates-today.com
Flash-Templates-Today.com - Gives a possibility to obtain a ready free flash template, free css template and other kind of website template!-->
<body>
<!-- begin #container -->
<div id="container">
    <!-- begin #header -->
    <div id="header">
        <div class="headerBackground"><h1><a href="http://code.google.com/p/terrastore/" target="_blank">Console</a></h1></div>
    </div>
    <div id="navcontainer">
        <ul id="navlist">
            <li><a href="#/home" class="current" menuItem="home">Home</a></li>
            <li><a href="#/buckets" menuItem="buckets">Buckets</a></li>
            <li><a href="#/search/value" menuItem="search">Search</a></li>
            <li><a href="#/exportImport" menuItem="exportImport">Export-Import</a></li>
            <li><a href="#/stats" menuItem="stats">Statistics</a></li>
            <li><a href="#/about" menuItem="about">About</a></li>
            <li>
                <div id="serversSelectContainer"><select id="serversSelect"></select></div>
            </li>
            <li>
                <div id="progressbar"></div>
            </li>
        </ul>
    </div>
    <!-- end #header -->
    <!-- begin #sidebar1 -->
    <div id="serverSidebar">
    </div>
    <!-- end #sidebar1 -->
     <div id="messageContent">
        <div id="message">
        </div>
    </div>
    <!-- begin #mainContent -->
    <div id="mainContent">
        <div id="content">
        </div>
    </div>
    <!-- end #mainContent -->
    <!-- This clearing element should immediately follow the #mainContent div in order to force the #container div to contain all child floats -->
    <br class="clearfloat"/>
    <!-- begin #footer -->
    <div id="footer">
        <p>
            Terrastore Console Â© 2010 |
            Design by <a title="Free Flash Templates" href="http://www.flash-templates-today.com" class="footerLink" target="_blank">Free Flash Templates</a>
        </p>
    </div>
    <!-- end #footer -->
</div>
<!-- end #container -->

<p style="display:none"><textarea id="home" rows="0" cols="0"><!--
<div class="content ui-corner-all">
    <p>Welcome to Terrastore console.</p>
</div>
    --></textarea>
</p>

<p style="display:none"><textarea id="servers" rows="0" cols="0"><!--
<div class="sidebarContent ui-corner-all">
    <h1>Setup</h1>
    {#foreach $T as row}
        <p id="server-{$T.row.key}">Server-{$T.row$iteration + 1} : <b>{$T.row.value}</b> <a href="#/servers/remove/{$T.row.key}">Delete</a><br/></p>
    {#/for}
    <a href="#/servers/add/{$P.timestamp}">Add a new server</a>
    <hr>
    <p>Click on server url to edit.</p>
</div>
    --></textarea>
</p>

<p style="display:none"><textarea id="buckets" rows="0" cols="0"><!--
<div class="content ui-corner-all">
    <h1>Buckets</h1>
    <table id="hor-minimalist-a" class="pp">
        <thead>
        <tr>
            <th>Bucket</th>
            <th>Operation</th>
        </tr>
        </thead>
        {#foreach $T as row}
        <tr>
            <td class="bucket">{$T.row}</td>
            <td class="operation"><a class="removeOp" href="{$P.removePath + $T.row}">Delete</a></td>
        </tr>
        {#/for}
    </table>
</div>
<div class="content ui-corner-all">
    <h1>Insert value</h1>
    <form action="#/put/value" method="post" id="putBuckets">
        <p><label for="bucketName">Bucket:</label><input type="text" name="bucketName"/></p>
        <p><label for="key">Key:</label><input type="text" name="key"/></p>
        <p><label for="value">Value:</label><textarea name="value" cols="40" rows="6"/></p>
        <p><input type="submit" value="Put" /></p>
    </form>
</div>
<div id="remove-confirm" title="Do you want to remove it?" style="display:none">
    <p><span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span>These item will be permanently deleted and cannot be recovered. Are you sure?</p>
</div>
    --></textarea>
</p>

<p style="display:none"><textarea id="values" rows="0" cols="0"><!--
<div class="content ui-corner-all">
    <h1 id="bucketName">{$P.bucketName}</h1>
    <table id="hor-minimalist-a" class="pp">
        <thead>
        <tr>
            <th>Key</th>
            <th>Value</th>
            <th>Operation</th>
        </tr>
        </thead>
        {#foreach $T as row}
        <tr>
            <td class="key">{$T.row.key}</td>
            <td class="value">{$T.row.value}</td>
            <td class="operation"><a class="removeOp" href="{$P.path + $P.bucketName + '/' + $T.row.key}">Delete</a></td>
        </tr>
        {#/for}
    </table>
</div>
<div id="remove-confirm" title="Do you want to remove it?" style="display:none">
    <p><span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span>These item will be permanently deleted and cannot be recovered. Are you sure?</p>
</div>
<div class="content ui-corner-all">
    <h1>Insert value</h1>
    <form action="#/put/value" method="post" id="putBuckets">
        <input type="hidden" name="bucketName" value="{$P.bucketName}"/>
        <p><label for="key">Key:</label><input type="text" name="key"/></p>
        <p><label for="value">Value:</label><textarea name="value" cols="40" rows="6"/></p>
        <p><input type="submit" value="Put" /></p>
    </form>
</div>

    --></textarea>
</p>

<p style="display:none"><textarea id="searchValue" rows="0" cols="0"><!--
<div id="searchMenu">
    <h1><a href="#">Search by key</a></h1>
    <div>
        <form action="#/search/value" method="post" id="searchKey">
            <p><label for="searchValue[bucketName]">Bucket:</label>{$P.searchValueForm.text('bucketName')}</p>
            <p><label for="searchValue[key]">Key:</label>{$P.searchValueForm.text('key')}</p>
            <p><input type="submit" value="Search" /></p>
        </form>
    </div>
    <h1><a href="#">Search by range</a></h1>
    <div>
        <form action="#/search/range" method="post" id="searchRange">
            <p><label for="searchRange[bucketName]">Bucket:</label>{$P.searchRangeForm.text('bucketName')}</p>
            <p><label for="searchRange[startKey]">StartKey:</label>{$P.searchRangeForm.text('startKey')}</p>
            <p><label for="searchRange[endKey]">EndKey:</label>{$P.searchRangeForm.text('endKey')}</p>
            <p><label for="searchRange[limit]">Limit (Default:100):</label>{$P.searchRangeForm.text('limit')}</p>
            <p><label for="searchRange[comparator]">Comparator (Default:Lexical-asc):</label>{$P.searchRangeForm.text('comparator')}</p>
            <p><label for="searchRange[predicateType]">Predicate Type:</label>{$P.searchRangeForm.text('predicateType')}</p>
            <p><label for="searchRange[predicate]">Predicate:</label>{$P.searchRangeForm.text('predicate')}</p>
            <p><label for="searchRange[timeToLive]">TimeToLive (Default:10000 millisec):</label>{$P.searchRangeForm.text('timeToLive')}</p>
            <p><input type="submit" value="Search" /></p>
        </form>
    </div>
    <h1><a href="#">Search by predicate</a></h1>
    <div>
        <form action="#/search/predicate" method="post" id="searchPredicate">
            <p><label for="searchPredicate[bucketName]">Bucket:</label>{$P.searchPredicateForm.text('bucketName')}</p>
            <p><label for="searchPredicate[predicateType]">Predicate Type:</label>{$P.searchPredicateForm.text('predicateType')}</p>
            <p><label for="searchPredicate[predicate]">Predicate:</label>{$P.searchPredicateForm.text('predicate')}</p>
            <p><input type="submit" value="Search" /></p>
        </form>
    </div>
    <h1><a href="#">Search with Map Reduce</a></h1>
    <div>
        <form action="#/search/mapReduce" method="post" id="searchMapReduce">
            <p><label for="searchMapReduce[bucketName]">Bucket:</label>{$P.searchMapReduceForm.text('bucketName')}</p>
            <h3>Task</h3>
            <hr>
            <p><label for="searchMapReduce[mapper]">Mapper:</label>{$P.searchMapReduceForm.text('mapper')}</p>
            <p><label for="searchMapReduce[combiner]">Combiner:</label>{$P.searchMapReduceForm.text('combiner')}</p>
            <p><label for="searchMapReduce[reducer]">Reducer:</label>{$P.searchMapReduceForm.text('reducer')}</p>
            <p><label for="searchMapReduce[timeout]">Timeout:</label>{$P.searchMapReduceForm.text('timeout')}</p>
            <p><label for="searchMapReduce[parameters]">Parameters:</label>{$P.searchMapReduceForm.textarea('parameters', $P.textareaParams)}</p>
            <div id="rangeClick"><span class="ui-icon ui-icon-circle-minus rangeIcon"></span><h3>Range</h3></div>
            <hr>
            <div id="rangeBox">
                <p><label for="searchMapReduce[startKey]">StartKey:</label>{$P.searchMapReduceForm.text('startKey')}</p>
                <p><label for="searchMapReduce[endKey]">EndKey:</label>{$P.searchMapReduceForm.text('endKey')}</p>
                <p><label for="searchMapReduce[comparator]">Comparator:</label>{$P.searchMapReduceForm.text('comparator')}</p>
                <p><label for="searchMapReduce[timeToLive]">TimeToLive:</label>{$P.searchMapReduceForm.text('timeToLive')}</p>
            </div>
            <p><input type="submit" value="Search" /></p>
        </form>
    </div>
</div>
    --></textarea>
</p>

<p style="display:none"><textarea id="value" rows="0" cols="0"><!--
<div class="content ui-corner-all">
    <h1 id="bucketName">{$P.bucketName}</h1>
    <table id="hor-minimalist-a" class="pp">
        <thead>
        <tr>
            <th>Key</th>
            <th>Value</th>
            <th>Operation</th>
        </tr>
        </thead>
        <tr>
            <td class="key">{$T.key}</td>
            <td class="value">{$T.value}</td>
            <td class="operation"><a class="removeOp" href="{$P.removePath + $P.bucketName + '/' + $T.key}">Delete</a>, 
                                  <a class="mergeOp" href="{$P.mergePath + $P.bucketName + '/' + $T.key}">Merge</a></td>
        </tr>
    </table>
</div>
<div id="remove-confirm" title="Do you want to remove it?" style="display:none">
    <p><span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span>These item will be permanently deleted and cannot be recovered. Are you sure?</p>
</div>
    --></textarea>
</p>

<p style="display:none"><textarea id="merge" rows="0" cols="0"><!--
<div class="content ui-corner-all">
    <h1>Merge value</h1>
    <form action="#/merge/value" method="post" id="mergeValue">
        <p><label for="bucketName">Bucket:</label><input type="text" name="bucketName" value="{$P.bucketName}" readonly/></p>
        <p><label for="key">Key:</label><input type="text" name="key" value="{$P.key}" readonly/></p>
        <p><label for="value">Value:</label>{$P.mergeValueForm.textarea('value', $P.textareaParams)}</p>
        <p><label for="merge">Merge:</label><textarea name="merge" cols="40" rows="6"/></p>
        <p><input type="submit" value="Merge" /></p>
    </form>
</div>
    --></textarea>
</p>

<p style="display:none"><textarea id="mapReduceResult" rows="0" cols="0"><!--
<div class="content ui-corner-all">
    <table id="hor-minimalist-a" class="pp">
        <thead>
        <tr>
            <th>Value</th>
        </tr>
        </thead>
        <tr>
            <td class="value">{$T.textarea('result', $P.textareaParams)}</td>
        </tr>
    </table>
</div>
    --></textarea>
</p>

<p style="display:none"><textarea id="exportImport" rows="0" cols="0"><!--
<div class="content ui-corner-all">
    <h1>Export</h1>
    <form action="#/export" method="get" id="export">
        <p><label for="bucketName">Bucket:</label><input type="text" name="bucketName"/></p>
        <p><label for="destination">Destination:</label><input type="text" name="destination"/></p>
        <p><input type="submit" value="Export" /></p>
    </form>
</div>
<div class="content ui-corner-all">
    <h1>Import</h1>
    <form action="#/import" method="get" id="import">
        <p><label for="bucketName">Bucket:</label><input type="text" name="bucketName"/></p>
        <p><label for="source">Source:</label><input type="text" name="source"/></p>
        <p><input type="submit" value="Import" /></p>
    </form>
</div>
    --></textarea>
</p>

<p style="display:none"><textarea id="success" rows="0" cols="0"><!--
<div class="content ui-corner-all">
    <div id="successWidget" class="ui-widget">
        <div class="ui-state-highlight ui-corner-all" style="padding: 0 .7em;">
            <p><span class="ui-icon ui-icon-info" style="float: left; margin-right: .3em;"></span>
            <strong>Operation completed.</strong></p>
        </div>
    </div>
</div>
    --></textarea>
</p>

<p style="display:none"><textarea id="error" rows="0" cols="0"><!--
<div class="content ui-corner-all">

    <div id="errorWidget" class="ui-widget">
        <div class="ui-state-error ui-corner-all" style="padding: 0 .7em;">

            <p><span class="ui-icon ui-icon-alert" style="float: left; margin-right: .3em;"></span>
            <strong>Error:{$T}</strong></p>

        </div>

    </div>

</div>

    --></textarea>
</p>

<p style="display:none"><textarea id="stats" rows="0" cols="0"><!--
<div class="content ui-corner-all">
    <div id="clusters">
        <ul>
            {#foreach $T.clusters as cluster}
                <li><a href="#clusters-{$T.cluster$index}" class="clusters-{$T.cluster.status}">{$T.cluster.name}</a></li>
            {#/for}
        </ul>
        {#foreach $T.clusters as cluster}
            <div id="clusters-{$T.cluster$index}">
                <h1>Nodes</h1>
                <table id="hor-minimalist-a" class="pp">
                    <thead>
                    <tr>
                        <th>Host</th>
                        <th>Name</th>
                        <th>Port</th>
                    </tr>
                    </thead>
                    {#foreach $T.cluster.nodes as node}
                    <tr>
                        <td class="nodeHost">{$T.node.host}</td>
                        <td class="nodeName">{$T.node.name}</td>
                        <td class="nodePort">{$T.node.port}</td>
                    </tr>
                    {#/for}
                </table>
                <hr>
                <div id="importClustersConfiguration">
                    <a id="importClustersConfigurationLink" href="#/importClusterConfiguration/{$T.cluster.name}">Import Cluster Configuration</a>
                </div>
            </div>
        {#/for}
    </div>
</div>
    --></textarea>
</p>

<p style="display:none"><textarea id="about" rows="0" cols="0"><!--
<div class="content ui-corner-all">
    <p><a href="http://code.google.com/p/terrastore/" target="_blank">Terrastore</a> Javascript Console - Version {$T}.</p>
</div>
    --></textarea>
</p>

</body>
</html>
